library(psych)



library(data.table)
mydata <- fread('http://www.stats.ox.ac.uk/pub/datasets/csb/ch11b.dat')
head(mydata)
mydata[!complete.cases(mydata),]

install.packages("dplyr")
library("dplyr")
mydata = select(mydata, V1, V3, V4)

#Remove duplicate rows based on all columns:
distinct(mydata)

# Remove duplicated rows based on a column
distinct(mydata, V5)

str(mydata)
summary(mydata)
describe(mydata)
dim(mydata)

# 3-Way Frequency Table
mytable <- xtabs(~A+B+c, data=mydata)
ftable(mytable) # print table 
summary(mytable) # chi-square test of indepedence

#table( ) can also generate multidimensional tables based on 3 or more categorical variables. In this case, use the ftable( ) function to print the results more attractively.
# 3-Way Frequency Table 
mytable <- table(A, B, C) 
ftable(mytable)

Table ignores missing values. To include NA as a category in counts, include the table option exclude=NULL if the variable is a vector. If the variable is a factor you have to create a new factor using newfactor <- factor(oldfactor, exclude=NULL).




MATRIX DE CORRELAÇÃO
library(Hmisc)
rcorr(as.matrix(mydata))

MATRIX DE COVARIAÇÃO
install.packages("corpcor")
install.packages("tseries")
library(corpcor)
library(tseries)

cov.shrink(covmat)






The principal( ) function in the psych package can be used to extract and rotate principal components.

# Varimax Rotated Principal Components
# retaining 5 components 
library(psych)
fit <- principal(mydata, nfactors=5, rotate="varimax")
fit # print results

The factor.pa( ) function in the psych package offers a number of factor analysis related functions, including principal axis factoring.

# Principal Axis Factor Analysis
library(psych)
fit <- factor.pa(mydata, nfactors=3, rotation="varimax")
fit # print results

mydata can be a raw data matrix or a covariance matrix. Pairwise deletion of missing data is used. Rotation can be "varimax" or "promax".
